<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js"></script>



    <script src=" https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/additional-methods.min.js"></script>



    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="company.css">
    <script src="form.js" type="text/javascript"></script>
    <title>FORM</title>
</head>

<body>
    <div class="mainbox">
        <div class="data">
            <div class="label">

                <div>
                    <label class="txt2">Status:</label>
                    <br />
                    <select>
                        <option>Select Status:</option>
                        <option>Active</option>
                        <option>Pending</option>
                    </select>
                    <br><br>
                </div>

                <div>
                    <label class="txt2">Company:</label><br />
                    <select id="input" onchange="random_function1()">

                    </select>
                    <br><br>
                </div>

                <div>
                    <label class="txt2">Department:</label><br />

                    <select id="output" onchange="random_function()">
                        <option>select Company first</option>



                    </select>
                    <br><br>
                </div>
            </div>
            <br /><br />



            <form class="txt">
                <div>
                    <div>
                        <label class="txt2"><b>Name:</b></label>
                        <br />
                        <div class="input-container">
                            <i class="fa fa-user icon"></i>
                            <input class="txt1" id="name" type="text" placeholder="Enter your Name">


                            <div id="display_error" class="form-error"></div>
                        </div><br />
                    </div>



                    <div>
                        <label class="txt2"><b>Email:</b></label>
                        <br />
                        <div class="input-container">
                            <i class="fa fa-envelope icon"></i>
                            <input class="txt1" id="email" type="email" placeholder="Enter your Email">
                            <div id="email_error_message" class="form-error"></div>
                        </div>
                    </div>
                    <br />
                </div>
                <div>
                    <div>
                        <div class="input-container">
                            <i class="fa fa-venus-mars icon"></i>
                            <label class="txt2" id="gen" required=""><b>Gender: </b>
                                <div id="display_error"></div>

                        </div>
                    </div>
                    <div id="gender_error"></div>
                    <div class="gen">
                        <input type="radio" class="txt2" id="male" name="gender" value="male">
                        <label for="male">Male</label><br>


                        <input type="radio" class="txt2" id="female" name="gender" value="female">
                        <label for="female">Female</label><br>

                    </div>

                </div>
                <br />


                <div>
                    <div>
                        <div class="input-container">
                            <i class="fa fa-list-ul icon"></i>
                            <label class="txt2" id="pref"><b>Preferences: </b><br />
                        </div>
                    </div>
                    <div id="check_error"></div>

                    <input type="checkbox" id="check1" name="multivalues" value="Full stack developer" required>
                    <label for="check1">Full stack developer</label><br>

                    <input type="checkbox" id="check2" name="multivalues" value="data science" required>
                    <label for="check2">Data Science</label><br>

                    <input type="checkbox" id="check3" name="multivalues" value="Software Testing" required>
                    <label for="check3">Software Testing</label><br>

                    <input type="checkbox" id="check4" name="multivalues" value="Cyber Security" required>
                    <label for="check4">Cyber Security</label><br>

                    <input type="checkbox" id="check5" name="multivalues" value="Networking" required>
                    <label for="check5">Networking</label><br><br/>
                    <span id="course" style="color:red"></span>


                    </label>

                </div>
                <br />

                <div>

                    <img src="img1.jpg" id="id1" onclick="ab()" height="200px" width="150px">
                    <input class="imgrender" type="file" id="file" onchange="preview()">

                </div>
                <br />



                <div class="btn">
                    <button type="button" value="Send" id="sub">Send</button>
                </div>

            </form>


        </div>


    </div>

    <script>
        var checked = false;

        $("input").on('keypress', function () {
            $(".form-error").html("");
        });

        $("#sub").click(function () {

            validate();
            radio();
            checkbox1();
         
        }

        );


        // RADIO BUTTON FUNCTION
        $('input:radio').change(function () {
            $("#gender_error").html("");
        });

        // CHECKBOX FUNCTION
        $('input:checkbox').change(function () {
            $("#check_error").html("");
        });


        function validate() {
            var name1 = $("#name").val().trim();
            var email1 = $("#email").val();
            console.log(name1);
            console.log(email1);



            if (name1 == "") {
                $("#display_error").html("User name can't be empty");
                $("#display_error").css("color", "red");
                return false;
            }

            if ((name1.length <= 2) || (name1.length >= 30)) {
                $("#display_error").html("Enter between 3 to 30 characters");
                $("#display_error").css("color", "red");
                return false;
            }

            if (!validateEmail(email1)) {
                $("#email_error_message").html("Invalid email");
                $("#email_error_message").css("color", "red");
                return false;
            }
            else {
                $("#email_error_message").html("");
            }
            // if (email1.indexOf("@") < 0 || email1.indexOf(".") < 0) {
            //     $("#email_error_message").html("write email like 123@gmail.com");
            //     $("#email_error_message").css("color", "red");
            //     return false;

            // }  

        }


        function validateEmail(email1) {

            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email1).toLowerCase());
        }

        function Validateradio(form) {

            ErrorText = "";
        }



        // RADIO BUTTON

        function radio() {
            var x = $("input[type=radio][name=gender]:checked").val();
            console.log(x)
            if (x)
                (x);
            else {
                $("#gender_error").html("Please specify your gender");
                $("#gender_error").css("color", "red");
                return false;
            }
        }
        //END


        // CHECKBOX

        function checkbox1() {
            var a = [];
            $.each($('[name="multivalues"]:checked'), function () {
                a.push($(this).val());
            });
            //  var a=$("#check:checked").val();
            console.log(a.join(","));
           
            if(a.length==0){
                $("#check_error").html("Please select atleast one checkbox");
                 $("#check_error").css("color", "red");
            }else{
                $("#check_error").html("");
            }
           
        }

        //END

        //SELECT OPTION DEPENDENCY


        var apiData = [{
            "id": 1, "name": "Google",
            "deptData": [{ 'id': 1, 'name': 'GO. Information Technology' },
            { 'id': 2, 'name': 'GO. Human Resource' },
            { 'id': 3, 'name': 'GO. Analysis' },
            { 'id': 4, 'name': 'GO. Finance' }]
        },
        {
            "id": 2, "name": "APPLE",
            "deptData": [{ 'id': 1, 'name': 'AP. Information Technology' },
            { 'id': 2, 'name': 'AP. Human Resource' },
            { 'id': 3, 'name': 'AP. Analysis' },
            { 'id': 4, 'name': 'AP. Finance' }]
        },
        ];
        var cName = "<option selected disabled>Select a company</option>";
        apiData.forEach(function (item) {
            cName += `<option value="${item.id}">${item.name}</option>`;
        });
        $('#input').html(cName);


        function random_function1() {
            var dName = "";
            apiData.forEach(function (item) {
                if ($('#input').val() == item.id) {
                    item.deptData.forEach(function (dept) {
                        dName += `<option value="${dept.id}">${dept.name}</option>`;
                    });
                }
            });
            $('#output').html(dName);
            console.log(output);
        }



        function random_function() {
            var a = $("#input").val();
            if (a === "GOOGLE") {
                var arr = ["GO. Information Technology", 'GO. Human Resource', 'GO. Analysis'];
            }
            else if (a === "APPLE") {
                var arr = ['AP. Information Security', 'AP. Administration', 'AP. Policy & GOVT Affairs'];
            }
            else if (a === "MICROSOFT") {
                var arr = ["MS. Tools & Services", "MS. Microsoft Business Division", "MS. Cloud Services"];
            }
            else if (a === "AMAZON") {
                var arr = ['AM. Services', 'AM. AWS', 'AM.FOODS'];
            }
            else if (a === "TESLA") {
                var arr = ["TE. Designing", "TE. Artificial Inteligence", "TE. Cars"];
            }
            else if (a === "AMD") {
                var arr = ["AD. chips", " AD. Processor", "AD. Graphics"];
            }
            else {
                var arr = [];
            }

            var string = "";

            for (i = 0; i < arr.length; i++) {
                string = string + "<option value>" + arr[i] + "</option>";
            }
            document.getElementById("output").innerHTML = string;
        }

        //END

        //IMAGE RENDERING


        function ab() {
            document.getElementById("file").click();
        }
        function preview() {
            document.getElementById('id1').src = URL.createObjectURL(event.target.files[0]);
        }

        // END


        //CONSOLE VALUES
        var val = document.getElementById("name").value;
        console.log(val);





    </script>
</body>

</html>